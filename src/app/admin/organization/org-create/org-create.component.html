<div fxLayoutAlign="center center">
  <div fxLayout="column" class="content">

    <div fxLayout="row" fxLayoutAlign="start center">
      <h3><i class="fas fa-landmark"></i>&nbsp;New Organization</h3>
      <span class="spacer"></span>
      <button mat-stroked-button routerLink="/admin/organization/all" routerLinkActive="active">
        <span><i class="fas fa-times"></i> Cancel</span>
      </button>
    </div>

    <form fxLayout="column" [formGroup]="orgForm" (ngSubmit)="onSubmit()">

      <div fxLayout="column" fxLayoutGap="1em">
        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="47%" fxFlex.sm="75%" fxFlex.xs="100%">
            <mat-label>Organization Name</mat-label>
            <input matInput [required]="true" formControlName="name" [errorStateMatcher]="matcher">
            <mat-error *ngIf="orgForm.get('name').hasError('required')">
              Organization name is required.
            </mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="65%" fxFlex.sm="75%" fxFlex.xs="100%">
            <mat-label>Description</mat-label>
            <textarea matInput rows="1" [required]="true" formControlName="description" [errorStateMatcher]="matcher"></textarea>
            <mat-hint>Enter a brief description about the organization.</mat-hint>
            <mat-error *ngIf="orgForm.get('description').hasError('required')">
              Description is required.
            </mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="row wrap" fxLayoutGap="1.5em" fxLayoutGap.xs="0" fxLayoutAlign="start center">
          <mat-form-field fxFlex="65%" fxFlex.xs="100%">
            <mat-label>Services Provided</mat-label>
            <mat-select [required]="true" formControlName="services" multiple [errorStateMatcher]="matcher">
              <mat-option *ngFor="let service of serviceList" [value]="service.service">{{service.service}}</mat-option>
            </mat-select>
            <mat-error *ngIf="orgForm.get('services').hasError('required')">
              Select at least one service.
            </mat-error>
          </mat-form-field>

          <button type="button" mat-stroked-button class="edit-item-list-button" (click)="editList('service')">
            <span><i class="far fa-edit"></i> Service List</span>
          </button>
        </div>
      </div>

      <h3><i class="fas fa-map-marker-alt"></i> Address</h3>

      <div formGroupName="address" fxLayout="column" fxLayoutGap="1.5em">
        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="47%" fxFlex.xs="100%">
            <mat-label>Street Address</mat-label>
            <input matInput [required]="true" formControlName="streetAddress1" [errorStateMatcher]="matcher">
            <mat-error *ngIf="orgForm.get('address.streetAddress1').hasError('required')">
              Street address is required.
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="47%" fxFlex.xs="100%">
            <mat-label>Street Address 2</mat-label>
            <input matInput formControlName="streetAddress2">
            <mat-hint>Apt, suite, unit, building, floor, etc...</mat-hint>
          </mat-form-field>
        </div>

        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="30%" fxFlex.sm="47%" fxFlex.xs="100%">
            <mat-label>City</mat-label>
            <input matInput [required]="true" formControlName="city" [errorStateMatcher]="matcher">
            <mat-error *ngIf="orgForm.get('address.city').hasError('required')">
              City is required.
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="30%" fxFlex.sm="47%" fxFlex.xs="100%">
            <mat-select placeholder="State" [required]="true" formControlName="state" [errorStateMatcher]="matcher">
              <mat-option [value]="'Michigan'">Michigan</mat-option>
            </mat-select>
            <mat-error *ngIf="orgForm.get('address.state').hasError('required')">
              State is required.
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="30%" fxFlex.sm="47%" fxFlex.xs="100%">
            <mat-label>Zip Code</mat-label>
            <input matInput [required]="true" formControlName="zipCode" [errorStateMatcher]="matcher">
            <mat-error *ngIf="orgForm.get('address.zipCode').hasError('required')">
              Zip code is required.
            </mat-error>
            <mat-error *ngIf="orgForm.get('address.zipCode').hasError('pattern')">
              Enter a valid zip code.
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <h3><i class="fas fa-globe"></i> Website</h3>

      <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
        <mat-form-field fxFlex="47%" fxFlex.xs="100%">
          <mat-label>URL</mat-label>
          <input matInput type="url" formControlName="website" [errorStateMatcher]="matcher">
          <mat-error *ngIf="orgForm.get('website').hasError('pattern')">
            Enter a valid web url.
          </mat-error>
        </mat-form-field>
      </div>

      <h3><i class="far fa-address-book"></i> Contact Information</h3>

      <div formGroupName="contact" fxLayout="column" fxLayoutGap="1em">
        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="30%" fxFlex.sm="47%" fxFlex.xs="100%">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name">
          </mat-form-field>

          <mat-form-field fxFlex="30%" fxFlex.sm="47%" fxFlex.xs="100%">
            <mat-label><i class="far fa-envelope"></i> Email</mat-label>
            <input matInput formControlName="email" [errorStateMatcher]="matcher">
            <mat-error *ngIf="orgForm.get('contact.email').hasError('email')">
              Enter a valid email address.
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="30%" fxFlex.sm="47%" fxFlex.xs="100%">
            <mat-label><i class="fas fa-mobile-alt"></i> Phone</mat-label>
            <input matInput type="tel" formControlName="phone" [errorStateMatcher]="matcher">
            <mat-error *ngIf="orgForm.get('contact.phone').hasError('pattern')">
              Enter a valid US phone number.
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <h3><i class="fas fa-info-circle"></i> Other Information</h3>

      <div fxLayout="column" fxLayoutGap="1em">
        <div fxLayout="row wrap" fxLayoutGap="1.5em" fxLayoutGap.xs="0" fxLayoutAlign="start center">
          <mat-form-field fxFlex="65%" fxFlex.xs="100%">
            <mat-label><i class="fas fa-language"></i> Other Languages Spoken</mat-label>
            <mat-select formControlName="languages" multiple>
              <mat-option *ngFor="let language of languageList" [value]="language.language">{{language.language}}</mat-option>
            </mat-select>
          </mat-form-field>

          <button type="button" mat-stroked-button (click)="editList('language')">
            <span><i class="far fa-edit"></i> Language List</span>
          </button>
        </div>

        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="47%" fxFlex.xs="100%">
            <mat-label><i class="fas fa-file-invoice-dollar"></i> Payment</mat-label>
            <mat-select [required]="true" formControlName="payment" [errorStateMatcher]="matcher">
              <mat-option *ngFor="let payment of paymentOptions" [value]=payment>{{payment}}</mat-option>
            </mat-select>
            <mat-error *ngIf="orgForm.get('payment').hasError('required')">
              Select a payment option.
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="47%" fxFlex.xs="100%">
            <mat-label><i class="fas fa-bus"></i> Transportation Provided</mat-label>
            <mat-select [required]="true" formControlName="transportation" [errorStateMatcher]="matcher">
              <mat-option [value]="true">Yes</mat-option>
              <mat-option [value]=false>No</mat-option>
            </mat-select>
            <mat-error *ngIf="orgForm.get('transportation').hasError('required')">
              Select a transportation provided option.
            </mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="47%" fxFlex.xs="100%">
            <mat-label>Senior Requiments</mat-label>
            <mat-select [required]="true" formControlName="seniorRequirements" [errorStateMatcher]="matcher">
              <mat-option [value]="true">Yes</mat-option>
              <mat-option [value]=false>No</mat-option>
            </mat-select>
            <mat-error *ngIf="orgForm.get('seniorRequirements').hasError('required')">
              Select a senior requirement option.
            </mat-error>
          </mat-form-field>

          <mat-form-field fxFlex="47%" fxFlex.xs="100%">
            <mat-label>Eligibility Requiments</mat-label>
            <mat-select [required]="true" formControlName="eligibilityRequirements" [errorStateMatcher]="matcher">
              <mat-option [value]="true">Yes</mat-option>
              <mat-option [value]=false>No</mat-option>
            </mat-select>
            <mat-error *ngIf="orgForm.get('eligibilityRequirements').hasError('required')">
              Select a an eligibility requirements option.
            </mat-error>
          </mat-form-field>
        </div>

        <div fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1.5em" fxLayoutGap.xs="0.5em">
          <mat-form-field fxFlex="100%">
            <mat-label>What to Bring</mat-label>
            <input matInput type="url" formControlName="bringWithYou">
          </mat-form-field>
        </div>
      </div>

      <button mat-stroked-button (click)="onSubmit()" [disabled]="!orgForm.valid" id="save-org-button">
        <span><i class="far fa-save"></i> Save Organization</span>
      </button>

    </form>

  </div>
</div>